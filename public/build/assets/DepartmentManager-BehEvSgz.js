import{_ as x,c as o,o as r,a as t,b as m,d as n,w as p,v as u,F as g,r as h,t as d,k as y,m as c}from"./inertia-app-BhfqKf1u.js";const w={name:"DepartmentManager",data(){return{loading:!0,saving:!1,showManagement:!1,showAddModal:!1,showEditModal:!1,departments:[],form:{name:"",description:""},editingDepartment:null}},methods:{async fetchDepartments(){this.loading=!0;try{const i=await this.$http.get("/api/departments");this.departments=i.data}catch(i){console.error("Error fetching departments:",i),window.showNotification?.("Error loading departments")}finally{this.loading=!1}},editDepartment(i){this.editingDepartment=i,this.form={name:i.name,description:i.description||""},this.showEditModal=!0},async deleteDepartment(i){if(confirm(`Are you sure you want to delete the department "${i.name}"?`))try{await this.$http.delete(`/api/departments/${i.id}`),window.showNotification?.("Department deleted successfully"),this.fetchDepartments()}catch(e){console.error("Error deleting department:",e),window.showNotification?.("Error deleting department")}},async saveDepartment(){if(!this.form.name){window.showNotification?.("Department name is required");return}this.saving=!0;try{this.showEditModal?(await this.$http.put(`/api/departments/${this.editingDepartment.id}`,this.form),window.showNotification?.("Department updated successfully")):(await this.$http.post("/api/departments",this.form),window.showNotification?.("Department created successfully")),this.closeModal(),this.fetchDepartments()}catch(i){console.error("Error saving department:",i);const e=i.response?.data?.message||"Error saving department";window.showNotification?.(e)}finally{this.saving=!1}},closeModal(){this.showAddModal=!1,this.showEditModal=!1,this.editingDepartment=null,this.form={name:"",description:""}}},mounted(){this.fetchDepartments()}},v={class:"min-h-screen bg-gray-50"},b={class:"bg-white shadow"},D={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},k={class:"flex justify-between h-16"},M={class:"flex"},_={class:"hidden sm:ml-6 sm:flex sm:space-x-8"},E={class:"absolute left-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50"},N={class:"bg-white shadow"},A={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},C={class:"flex items-center justify-between"},S={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},V={class:"card"},j={class:"card-content p-0"},B={class:"overflow-x-auto"},z={class:"min-w-full divide-y divide-gray-200"},U={class:"bg-white divide-y divide-gray-200"},q={class:"px-6 py-4 whitespace-nowrap"},F={class:"text-sm font-medium text-gray-900"},H={class:"px-6 py-4"},L={class:"text-sm text-gray-900"},P={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},T={class:"flex items-center justify-end space-x-2"},G=["onClick"],O=["onClick"],R={key:0,class:"text-center py-12"},W={key:1,class:"text-center py-12"},I={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},J={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"},K={class:"mt-3"},Q={class:"text-lg font-medium text-gray-900 mb-4"},X={class:"form-group mb-4"},Y={class:"form-group mb-4"},Z={class:"flex justify-end space-x-3"},$=["disabled"],tt={key:0},et={key:1};function st(i,e,at,it,s,l){return r(),o("div",v,[t("nav",b,[t("div",D,[t("div",k,[t("div",M,[e[11]||(e[11]=t("div",{class:"flex-shrink-0 flex items-center"},[t("router-link",{to:"/",class:"text-xl font-bold text-gray-900"},"PH HRMS")],-1)),t("div",_,[e[10]||(e[10]=t("router-link",{to:"/employees",class:"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm"},[t("i",{class:"fas fa-users mr-2"}),n("Employees ")],-1)),t("div",{class:"relative",onMouseenter:e[0]||(e[0]=a=>s.showManagement=!0),onMouseleave:e[1]||(e[1]=a=>s.showManagement=!1)},[e[9]||(e[9]=t("button",{class:"border-blue-500 text-blue-600 whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center"},[t("i",{class:"fas fa-cog mr-2"}),n("Management "),t("i",{class:"fas fa-chevron-down ml-1 text-xs"})],-1)),p(t("div",E,[...e[8]||(e[8]=[t("div",{class:"py-1"},[t("router-link",{to:"/management/departments",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},[t("i",{class:"fas fa-building mr-2"}),n("Departments ")]),t("router-link",{to:"/management/offices",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},[t("i",{class:"fas fa-map-marker-alt mr-2"}),n("Offices ")]),t("router-link",{to:"/management/positions",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},[t("i",{class:"fas fa-briefcase mr-2"}),n("Positions ")])],-1)])],512),[[u,s.showManagement]])],32)])]),e[12]||(e[12]=t("div",{class:"flex items-center"},[t("span",{class:"text-sm text-gray-700"},"Welcome, Admin")],-1))])])]),t("div",N,[t("div",A,[t("div",C,[e[14]||(e[14]=t("div",null,[t("nav",{class:"flex","aria-label":"Breadcrumb"},[t("ol",{class:"inline-flex items-center space-x-1 md:space-x-3"},[t("li",{class:"inline-flex items-center"},[t("router-link",{to:"/",class:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600"},[t("i",{class:"fas fa-home mr-2"}),n("Dashboard ")])]),t("li",null,[t("div",{class:"flex items-center"},[t("i",{class:"fas fa-chevron-right text-gray-400 mx-2"}),t("span",{class:"text-sm font-medium text-gray-500"},"Management")])]),t("li",{"aria-current":"page"},[t("div",{class:"flex items-center"},[t("i",{class:"fas fa-chevron-right text-gray-400 mx-2"}),t("span",{class:"text-sm font-medium text-gray-500"},"Departments")])])])]),t("h1",{class:"mt-2 text-2xl font-bold text-gray-900"},"Department Management")],-1)),t("div",null,[t("button",{onClick:e[2]||(e[2]=a=>s.showAddModal=!0),class:"btn btn-primary"},[...e[13]||(e[13]=[t("i",{class:"fas fa-plus mr-2"},null,-1),n("Add Department ",-1)])])])])])]),t("div",S,[t("div",V,[e[24]||(e[24]=t("div",{class:"card-header"},[t("h3",{class:"card-title"},[t("i",{class:"fas fa-building mr-3 text-blue-600"}),n("Departments ")]),t("p",{class:"card-description"},"Manage organizational departments")],-1)),t("div",j,[t("div",B,[t("table",z,[e[18]||(e[18]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Description "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),t("tbody",U,[(r(!0),o(g,null,h(s.departments,a=>(r(),o("tr",{key:a.id,class:"hover:bg-gray-50"},[t("td",q,[t("div",F,d(a.name),1)]),t("td",H,[t("div",L,d(a.description||"No description"),1)]),e[17]||(e[17]=t("td",{class:"px-6 py-4 whitespace-nowrap"},[t("span",{class:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800"}," Active ")],-1)),t("td",P,[t("div",T,[t("button",{onClick:f=>l.editDepartment(a),class:"text-green-600 hover:text-green-900",title:"Edit Department"},[...e[15]||(e[15]=[t("i",{class:"fas fa-edit"},null,-1)])],8,G),t("button",{onClick:f=>l.deleteDepartment(a),class:"text-red-600 hover:text-red-900",title:"Delete Department"},[...e[16]||(e[16]=[t("i",{class:"fas fa-trash"},null,-1)])],8,O)])])]))),128))])]),s.departments.length===0&&!s.loading?(r(),o("div",R,[e[20]||(e[20]=t("i",{class:"fas fa-building text-gray-400 text-4xl mb-4"},null,-1)),e[21]||(e[21]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No departments found",-1)),e[22]||(e[22]=t("p",{class:"text-gray-500 mb-6"},"Get started by creating your first department.",-1)),t("button",{onClick:e[3]||(e[3]=a=>s.showAddModal=!0),class:"btn btn-primary"},[...e[19]||(e[19]=[t("i",{class:"fas fa-plus mr-2"},null,-1),n("Add Department ",-1)])])])):m("",!0),s.loading?(r(),o("div",W,[...e[23]||(e[23]=[t("i",{class:"fas fa-spinner fa-spin text-gray-400 text-2xl mb-4"},null,-1),t("p",{class:"text-gray-500"},"Loading departments...",-1)])])):m("",!0)])])])]),s.showAddModal||s.showEditModal?(r(),o("div",I,[t("div",J,[t("div",K,[t("h3",Q,d(s.showEditModal?"Edit Department":"Add New Department"),1),t("form",{onSubmit:e[7]||(e[7]=y((...a)=>l.saveDepartment&&l.saveDepartment(...a),["prevent"]))},[t("div",X,[e[25]||(e[25]=t("label",{class:"form-label"},"Name *",-1)),p(t("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>s.form.name=a),type:"text",class:"form-input",required:""},null,512),[[c,s.form.name]])]),t("div",Y,[e[26]||(e[26]=t("label",{class:"form-label"},"Description",-1)),p(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=a=>s.form.description=a),rows:"3",class:"form-input"},null,512),[[c,s.form.description]])]),t("div",Z,[t("button",{onClick:e[6]||(e[6]=(...a)=>l.closeModal&&l.closeModal(...a)),type:"button",class:"btn btn-secondary"},"Cancel"),t("button",{type:"submit",class:"btn btn-primary",disabled:!s.form.name||s.saving},[s.saving?(r(),o("span",tt,"Saving...")):(r(),o("span",et,d(s.showEditModal?"Update":"Save"),1))],8,$)])],32)])])])):m("",!0)])}const ot=x(w,[["render",st]]);export{ot as default};
