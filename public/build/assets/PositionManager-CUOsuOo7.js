import{c as a,o as r,a as s,b as m,d as n,w as c,v as x,F as u,r as g,t as d,h,j as p}from"./inertia-app-B2ltxMEQ.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const w={name:"PositionManager",data(){return{loading:!0,saving:!1,showManagement:!1,showAddModal:!1,showEditModal:!1,positions:[],form:{name:"",description:""},editingPosition:null}},methods:{async fetchPositions(){this.loading=!0;try{const o=await this.$http.get("/api/positions");this.positions=o.data}catch(o){console.error("Error fetching positions:",o),window.showNotification?.("Error loading positions")}finally{this.loading=!1}},editPosition(o){this.editingPosition=o,this.form={name:o.name,description:o.description||""},this.showEditModal=!0},async deletePosition(o){if(confirm(`Are you sure you want to delete the position "${o.name}"?`))try{await this.$http.delete(`/api/positions/${o.id}`),window.showNotification?.("Position deleted successfully"),this.fetchPositions()}catch(t){console.error("Error deleting position:",t),window.showNotification?.("Error deleting position")}},async savePosition(){if(!this.form.name){window.showNotification?.("Position name is required");return}this.saving=!0;try{this.showEditModal?(await this.$http.put(`/api/positions/${this.editingPosition.id}`,this.form),window.showNotification?.("Position updated successfully")):(await this.$http.post("/api/positions",this.form),window.showNotification?.("Position created successfully")),this.closeModal(),this.fetchPositions()}catch(o){console.error("Error saving position:",o);const t=o.response?.data?.message||"Error saving position";window.showNotification?.(t)}finally{this.saving=!1}},closeModal(){this.showAddModal=!1,this.showEditModal=!1,this.editingPosition=null,this.form={name:"",description:""}}},mounted(){this.fetchPositions()}},v={class:"min-h-screen bg-gray-50"},b={class:"bg-white shadow"},P={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},k={class:"flex justify-between h-16"},M={class:"flex"},_={class:"hidden sm:ml-6 sm:flex sm:space-x-8"},E={class:"absolute left-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50"},N={class:"bg-white shadow"},A={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},C={class:"flex items-center justify-between"},D={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},S={class:"card"},j={class:"card-content p-0"},V={class:"overflow-x-auto"},B={class:"min-w-full divide-y divide-gray-200"},U={class:"bg-white divide-y divide-gray-200"},q={class:"px-6 py-4 whitespace-nowrap"},z={class:"text-sm font-medium text-gray-900"},F={class:"px-6 py-4"},H={class:"text-sm text-gray-900"},L={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},T={class:"flex items-center justify-end space-x-2"},G=["onClick"],O=["onClick"],R={key:0,class:"text-center py-12"},W={key:1,class:"text-center py-12"},I={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},J={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"},K={class:"mt-3"},Q={class:"text-lg font-medium text-gray-900 mb-4"},X={class:"form-group mb-4"},Y={class:"form-group mb-4"},Z={class:"flex justify-end space-x-3"},$=["disabled"],ss={key:0},ts={key:1};function es(o,t,is,os,e,l){return r(),a("div",v,[s("nav",b,[s("div",P,[s("div",k,[s("div",M,[t[11]||(t[11]=s("div",{class:"flex-shrink-0 flex items-center"},[s("router-link",{to:"/",class:"text-xl font-bold text-gray-900"},"PH HRMS")],-1)),s("div",_,[t[10]||(t[10]=s("router-link",{to:"/employees",class:"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm"},[s("i",{class:"fas fa-users mr-2"}),n("Employees ")],-1)),s("div",{class:"relative",onMouseenter:t[0]||(t[0]=i=>e.showManagement=!0),onMouseleave:t[1]||(t[1]=i=>e.showManagement=!1)},[t[9]||(t[9]=s("button",{class:"border-blue-500 text-blue-600 whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center"},[s("i",{class:"fas fa-cog mr-2"}),n("Management "),s("i",{class:"fas fa-chevron-down ml-1 text-xs"})],-1)),c(s("div",E,[...t[8]||(t[8]=[s("div",{class:"py-1"},[s("router-link",{to:"/management/departments",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},[s("i",{class:"fas fa-building mr-2"}),n("Departments ")]),s("router-link",{to:"/management/offices",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},[s("i",{class:"fas fa-map-marker-alt mr-2"}),n("Offices ")]),s("router-link",{to:"/management/positions",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},[s("i",{class:"fas fa-briefcase mr-2"}),n("Positions ")])],-1)])],512),[[x,e.showManagement]])],32)])]),t[12]||(t[12]=s("div",{class:"flex items-center"},[s("span",{class:"text-sm text-gray-700"},"Welcome, Admin")],-1))])])]),s("div",N,[s("div",A,[s("div",C,[t[14]||(t[14]=s("div",null,[s("nav",{class:"flex","aria-label":"Breadcrumb"},[s("ol",{class:"inline-flex items-center space-x-1 md:space-x-3"},[s("li",{class:"inline-flex items-center"},[s("router-link",{to:"/",class:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600"},[s("i",{class:"fas fa-home mr-2"}),n("Dashboard ")])]),s("li",null,[s("div",{class:"flex items-center"},[s("i",{class:"fas fa-chevron-right text-gray-400 mx-2"}),s("span",{class:"text-sm font-medium text-gray-500"},"Management")])]),s("li",{"aria-current":"page"},[s("div",{class:"flex items-center"},[s("i",{class:"fas fa-chevron-right text-gray-400 mx-2"}),s("span",{class:"text-sm font-medium text-gray-500"},"Positions")])])])]),s("h1",{class:"mt-2 text-2xl font-bold text-gray-900"},"Position Management")],-1)),s("div",null,[s("button",{onClick:t[2]||(t[2]=i=>e.showAddModal=!0),class:"btn btn-primary"},[...t[13]||(t[13]=[s("i",{class:"fas fa-plus mr-2"},null,-1),n("Add Position ",-1)])])])])])]),s("div",D,[s("div",S,[t[24]||(t[24]=s("div",{class:"card-header"},[s("h3",{class:"card-title"},[s("i",{class:"fas fa-briefcase mr-3 text-purple-600"}),n("Positions ")]),s("p",{class:"card-description"},"Manage job positions and roles")],-1)),s("div",j,[s("div",V,[s("table",B,[t[18]||(t[18]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Description "),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),s("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),s("tbody",U,[(r(!0),a(u,null,g(e.positions,i=>(r(),a("tr",{key:i.id,class:"hover:bg-gray-50"},[s("td",q,[s("div",z,d(i.name),1)]),s("td",F,[s("div",H,d(i.description||"No description"),1)]),t[17]||(t[17]=s("td",{class:"px-6 py-4 whitespace-nowrap"},[s("span",{class:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800"}," Active ")],-1)),s("td",L,[s("div",T,[s("button",{onClick:f=>l.editPosition(i),class:"text-green-600 hover:text-green-900",title:"Edit Position"},[...t[15]||(t[15]=[s("i",{class:"fas fa-edit"},null,-1)])],8,G),s("button",{onClick:f=>l.deletePosition(i),class:"text-red-600 hover:text-red-900",title:"Delete Position"},[...t[16]||(t[16]=[s("i",{class:"fas fa-trash"},null,-1)])],8,O)])])]))),128))])]),e.positions.length===0&&!e.loading?(r(),a("div",R,[t[20]||(t[20]=s("i",{class:"fas fa-briefcase text-gray-400 text-4xl mb-4"},null,-1)),t[21]||(t[21]=s("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No positions found",-1)),t[22]||(t[22]=s("p",{class:"text-gray-500 mb-6"},"Get started by creating your first position.",-1)),s("button",{onClick:t[3]||(t[3]=i=>e.showAddModal=!0),class:"btn btn-primary"},[...t[19]||(t[19]=[s("i",{class:"fas fa-plus mr-2"},null,-1),n("Add Position ",-1)])])])):m("",!0),e.loading?(r(),a("div",W,[...t[23]||(t[23]=[s("i",{class:"fas fa-spinner fa-spin text-gray-400 text-2xl mb-4"},null,-1),s("p",{class:"text-gray-500"},"Loading positions...",-1)])])):m("",!0)])])])]),e.showAddModal||e.showEditModal?(r(),a("div",I,[s("div",J,[s("div",K,[s("h3",Q,d(e.showEditModal?"Edit Position":"Add New Position"),1),s("form",{onSubmit:t[7]||(t[7]=h((...i)=>l.savePosition&&l.savePosition(...i),["prevent"]))},[s("div",X,[t[25]||(t[25]=s("label",{class:"form-label"},"Name *",-1)),c(s("input",{"onUpdate:modelValue":t[4]||(t[4]=i=>e.form.name=i),type:"text",class:"form-input",required:""},null,512),[[p,e.form.name]])]),s("div",Y,[t[26]||(t[26]=s("label",{class:"form-label"},"Description",-1)),c(s("textarea",{"onUpdate:modelValue":t[5]||(t[5]=i=>e.form.description=i),rows:"3",class:"form-input",placeholder:"Position description and responsibilities"},null,512),[[p,e.form.description]])]),s("div",Z,[s("button",{onClick:t[6]||(t[6]=(...i)=>l.closeModal&&l.closeModal(...i)),type:"button",class:"btn btn-secondary"},"Cancel"),s("button",{type:"submit",class:"btn btn-primary",disabled:!e.form.name||e.saving},[e.saving?(r(),a("span",ss,"Saving...")):(r(),a("span",ts,d(e.showEditModal?"Update":"Save"),1))],8,$)])],32)])])])):m("",!0)])}const rs=y(w,[["render",es]]);export{rs as default};
