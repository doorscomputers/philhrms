import{g as c,D as O,y as G,c as a,o as n,a as e,b as v,s as J,j,d as u,l as D,x as S,w as d,m as w,p as x,F as h,r as k,t as r,n as V,i as U,k as M,q as H,f as A}from"./inertia-app-BhfqKf1u.js";const Q={class:"min-h-screen bg-gray-50"},K={class:"bg-white shadow mb-8"},W={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},X={class:"flex justify-between h-16"},Y={class:"flex items-center"},Z={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-8"},ee={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},te={class:"flex justify-between items-center"},se={class:"flex space-x-3"},oe={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},le={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6"},re={class:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0"},ne={class:"flex-1 max-w-md"},ie={class:"relative"},ae={class:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3"},de=["value"],ue={class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},ce={class:"overflow-x-auto"},pe={class:"min-w-full divide-y divide-gray-200"},xe={class:"bg-white divide-y divide-gray-200"},me={class:"px-6 py-4 whitespace-nowrap"},fe={class:"text-sm font-medium text-gray-900"},be={class:"text-sm text-gray-500"},ge={class:"px-6 py-4 whitespace-nowrap"},ye={class:"text-sm text-gray-900"},ve={class:"px-6 py-4 whitespace-nowrap"},we={class:"text-sm text-gray-900"},he={class:"px-6 py-4 whitespace-nowrap"},ke={class:"px-6 py-4 whitespace-nowrap"},_e={class:"text-sm text-gray-900"},Ce={class:"px-6 py-4 whitespace-nowrap"},Pe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},je={class:"px-6 py-4 whitespace-nowrap text-center text-sm space-x-2"},De=["onClick"],Se=["onClick"],Ve={class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},Me={class:"flex-1 flex justify-between items-center"},Ae={class:"text-sm text-gray-700"},Ue={class:"font-medium"},$e={class:"font-medium"},Ee={class:"font-medium"},Re={class:"flex space-x-2"},Fe={class:"mt-3"},Le={class:"flex items-center justify-between mb-4"},Ne={class:"text-lg font-medium text-gray-900"},Te={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},qe=["value"],ze=["value"],Be={class:"md:col-span-2"},Ie={class:"flex items-center"},Oe={class:"md:col-span-2"},Ge={class:"flex justify-end space-x-3 mt-6"},Je={type:"submit",class:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},He={class:"mt-3 text-center"},Qe={class:"text-sm text-gray-500 mb-4"},We={__name:"PositionIndex",props:{positions:Object,departments:Array,jobGrades:Array},setup(i){const $=i,b=c(""),g=c(""),y=c(""),p=c(!1),_=c(!1),C=c(!1),m=c(null),l=O({id:null,title:"",code:"",department_id:"",job_grade_id:"",type:"Regular",level:"Rank and File",description:"",is_active:!0}),E=G(()=>{let o=$.positions.data||[];if(b.value){const t=b.value.toLowerCase();o=o.filter(s=>s.title.toLowerCase().includes(t)||s.code.toLowerCase().includes(t)||(s.department?.name||"").toLowerCase().includes(t))}return g.value&&(o=o.filter(t=>t.department_id==g.value)),y.value!==""&&(o=o.filter(t=>t.is_active==(y.value==="1"))),o}),R=o=>({Regular:"bg-blue-100 text-blue-800",Contractual:"bg-yellow-100 text-yellow-800",Casual:"bg-green-100 text-green-800",Consultant:"bg-purple-100 text-purple-800"})[o]||"bg-gray-100 text-gray-800",F=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),L=()=>{Object.assign(l,{id:null,title:"",code:"",department_id:"",job_grade_id:"",type:"Regular",level:"Rank and File",description:"",is_active:!0})},f=()=>{p.value=!1,_.value=!1,L()},N=o=>{Object.assign(l,{id:o.id,title:o.title,code:o.code,department_id:o.department_id,job_grade_id:o.job_grade_id,type:o.type,level:o.level,description:o.description||"",is_active:o.is_active}),_.value=!0},T=()=>{A.post("/positions",l,{onSuccess:()=>{window.$toast?.success("Success!","Position created successfully!"),f()},onError:o=>{console.error("Validation errors:",o),window.$toast?.error("Validation Error","Please check the form for errors")}})},q=()=>{A.put(`/positions/${l.id}`,l,{onSuccess:()=>{window.$toast?.success("Success!","Position updated successfully!"),f()},onError:o=>{console.error("Validation errors:",o),window.$toast?.error("Validation Error","Please check the form for errors")}})},z=o=>{m.value=o,C.value=!0},P=()=>{C.value=!1,m.value=null},B=()=>{m.value&&A.delete(`/positions/${m.value.id}`,{onSuccess:()=>{window.$toast?.success("Success!","Position deleted successfully!"),P()},onError:o=>{console.error("Delete error:",o),window.$toast?.error("Delete Failed","Failed to delete position. It may have employees assigned.")}})};return(o,t)=>(n(),a("div",Q,[e("nav",K,[e("div",W,[e("div",X,[e("div",Y,[J(D(S),{href:"/dashboard",class:"text-xl font-bold text-blue-600 hover:text-blue-700"},{default:j(()=>[...t[15]||(t[15]=[e("i",{class:"fas fa-arrow-left mr-2"},null,-1),u("PH HRMS ",-1)])]),_:1})]),t[16]||(t[16]=e("div",{class:"flex items-center space-x-4"},[e("span",{class:"text-sm text-gray-700"},"Organization Management")],-1))])])]),e("div",Z,[e("div",ee,[e("div",te,[t[18]||(t[18]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 flex items-center"},[e("i",{class:"fas fa-briefcase text-blue-600 mr-3"}),u(" Position Management ")]),e("p",{class:"text-gray-600 mt-1"},"Manage organizational positions and job roles")],-1)),e("div",se,[e("button",{onClick:t[0]||(t[0]=s=>p.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors"},[...t[17]||(t[17]=[e("i",{class:"fas fa-plus"},null,-1),e("span",null,"Add Position",-1)])])])])])]),e("div",oe,[e("div",le,[e("div",re,[e("div",ne,[e("div",ie,[t[19]||(t[19]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("i",{class:"fas fa-search text-gray-400"})],-1)),d(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>b.value=s),type:"text",placeholder:"Search positions...",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500"},null,512),[[w,b.value]])])]),e("div",ae,[d(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>g.value=s),class:"block w-full sm:w-48 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"},[t[20]||(t[20]=e("option",{value:""},"All Departments",-1)),(n(!0),a(h,null,k(i.departments,s=>(n(),a("option",{key:s.id,value:s.id},r(s.name),9,de))),128))],512),[[x,g.value]]),d(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>y.value=s),class:"block w-full sm:w-32 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"},[...t[21]||(t[21]=[e("option",{value:""},"All Status",-1),e("option",{value:"1"},"Active",-1),e("option",{value:"0"},"Inactive",-1)])],512),[[x,y.value]])])])]),e("div",ue,[e("div",ce,[e("table",pe,[t[24]||(t[24]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Position"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Department"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Job Grade"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Type"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Level"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Status"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Created"),e("th",{class:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",xe,[(n(!0),a(h,null,k(E.value,s=>(n(),a("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",me,[e("div",null,[e("div",fe,r(s.title),1),e("div",be,r(s.code),1)])]),e("td",ge,[e("div",ye,r(s.department?.name||"N/A"),1)]),e("td",ve,[e("div",we,r(s.job_grade?.name||"N/A"),1)]),e("td",he,[e("span",{class:V(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",R(s.type)])},r(s.type),3)]),e("td",ke,[e("div",_e,r(s.level),1)]),e("td",Ce,[e("span",{class:V(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},[e("span",{class:V(["w-1.5 h-1.5 mr-1.5 rounded-full",s.is_active?"bg-green-400":"bg-red-400"])},null,2),u(" "+r(s.is_active?"Active":"Inactive"),1)],2)]),e("td",Pe,r(F(s.created_at)),1),e("td",je,[e("button",{onClick:I=>N(s),class:"text-blue-600 hover:text-blue-900 transition-colors",title:"Edit Position"},[...t[22]||(t[22]=[e("i",{class:"fas fa-edit"},null,-1)])],8,De),e("button",{onClick:I=>z(s),class:"text-red-600 hover:text-red-900 transition-colors",title:"Delete Position"},[...t[23]||(t[23]=[e("i",{class:"fas fa-trash"},null,-1)])],8,Se)])]))),128))])])]),e("div",Ve,[e("div",Me,[e("div",null,[e("p",Ae,[t[25]||(t[25]=u(" Showing ",-1)),e("span",Ue,r(i.positions.from||0),1),t[26]||(t[26]=u(" to ",-1)),e("span",$e,r(i.positions.to||0),1),t[27]||(t[27]=u(" of ",-1)),e("span",Ee,r(i.positions.total||0),1),t[28]||(t[28]=u(" results ",-1))])]),e("div",Re,[i.positions.prev_page_url?(n(),U(D(S),{key:0,href:i.positions.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:j(()=>[...t[29]||(t[29]=[u(" Previous ",-1)])]),_:1},8,["href"])):v("",!0),i.positions.next_page_url?(n(),U(D(S),{key:1,href:i.positions.next_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:j(()=>[...t[30]||(t[30]=[u(" Next ",-1)])]),_:1},8,["href"])):v("",!0)])])])])]),p.value||_.value?(n(),a("div",{key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:f},[e("div",{class:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",onClick:t[13]||(t[13]=M(()=>{},["stop"]))},[e("div",Fe,[e("div",Le,[e("h3",Ne,r(p.value?"Add New Position":"Edit Position"),1),e("button",{onClick:f,class:"text-gray-400 hover:text-gray-600"},[...t[31]||(t[31]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("form",{onSubmit:t[12]||(t[12]=M(s=>p.value?T():q(),["prevent"]))},[e("div",Te,[e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Position Title *",-1)),d(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>l.title=s),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"},null,512),[[w,l.title]])]),e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Position Code *",-1)),d(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>l.code=s),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"},null,512),[[w,l.code]])]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Department *",-1)),d(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>l.department_id=s),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"},[t[34]||(t[34]=e("option",{value:""},"Select Department",-1)),(n(!0),a(h,null,k(i.departments,s=>(n(),a("option",{key:s.id,value:s.id},r(s.name),9,qe))),128))],512),[[x,l.department_id]])]),e("div",null,[t[37]||(t[37]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Job Grade",-1)),d(e("select",{"onUpdate:modelValue":t[7]||(t[7]=s=>l.job_grade_id=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"},[t[36]||(t[36]=e("option",{value:""},"Select Job Grade",-1)),(n(!0),a(h,null,k(i.jobGrades,s=>(n(),a("option",{key:s.id,value:s.id},r(s.name),9,ze))),128))],512),[[x,l.job_grade_id]])]),e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Type",-1)),d(e("select",{"onUpdate:modelValue":t[8]||(t[8]=s=>l.type=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"},[...t[38]||(t[38]=[e("option",{value:"Regular"},"Regular",-1),e("option",{value:"Contractual"},"Contractual",-1),e("option",{value:"Casual"},"Casual",-1),e("option",{value:"Consultant"},"Consultant",-1)])],512),[[x,l.type]])]),e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Level",-1)),d(e("select",{"onUpdate:modelValue":t[9]||(t[9]=s=>l.level=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"},[...t[40]||(t[40]=[e("option",{value:"Executive"},"Executive",-1),e("option",{value:"Management"},"Management",-1),e("option",{value:"Supervisory"},"Supervisory",-1),e("option",{value:"Rank and File"},"Rank and File",-1)])],512),[[x,l.level]])]),e("div",Be,[e("label",Ie,[d(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>l.is_active=s),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[H,l.is_active]]),t[42]||(t[42]=e("span",{class:"ml-2 text-sm text-gray-700"},"Active",-1))])]),e("div",Oe,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),d(e("textarea",{"onUpdate:modelValue":t[11]||(t[11]=s=>l.description=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"},null,512),[[w,l.description]])])]),e("div",Ge,[e("button",{type:"button",onClick:f,class:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Cancel "),e("button",Je,r(p.value?"Create Position":"Update Position"),1)])],32)])])])):v("",!0),C.value?(n(),a("div",{key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:P},[e("div",{class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",onClick:t[14]||(t[14]=M(()=>{},["stop"]))},[e("div",He,[t[44]||(t[44]=e("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4"},[e("i",{class:"fas fa-exclamation-triangle text-red-600"})],-1)),t[45]||(t[45]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Delete Position",-1)),e("p",Qe,' Are you sure you want to delete "'+r(m.value?.title)+'"? This action cannot be undone. ',1),e("div",{class:"flex justify-center space-x-3"},[e("button",{onClick:P,class:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50"}," Cancel "),e("button",{onClick:B,class:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700"}," Delete ")])])])])):v("",!0)]))}};export{We as default};
