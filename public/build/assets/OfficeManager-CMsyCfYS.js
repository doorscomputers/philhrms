import{_ as p,c as r,o as l,a as e,b as f,d as a,w as c,v as g,F as u,r as h,t as d,k as y,m}from"./inertia-app-BhfqKf1u.js";const w={name:"OfficeManager",data(){return{loading:!0,saving:!1,showManagement:!1,showAddModal:!1,showEditModal:!1,offices:[],form:{name:"",address:""},editingOffice:null}},methods:{async fetchOffices(){this.loading=!0;try{const o=await this.$http.get("/api/offices");this.offices=o.data}catch(o){console.error("Error fetching offices:",o),window.showNotification?.("Error loading offices")}finally{this.loading=!1}},editOffice(o){this.editingOffice=o,this.form={name:o.name,address:o.address||""},this.showEditModal=!0},async deleteOffice(o){if(confirm(`Are you sure you want to delete the office "${o.name}"?`))try{await this.$http.delete(`/api/offices/${o.id}`),window.showNotification?.("Office deleted successfully"),this.fetchOffices()}catch(s){console.error("Error deleting office:",s),window.showNotification?.("Error deleting office")}},async saveOffice(){if(!this.form.name){window.showNotification?.("Office name is required");return}this.saving=!0;try{this.showEditModal?(await this.$http.put(`/api/offices/${this.editingOffice.id}`,this.form),window.showNotification?.("Office updated successfully")):(await this.$http.post("/api/offices",this.form),window.showNotification?.("Office created successfully")),this.closeModal(),this.fetchOffices()}catch(o){console.error("Error saving office:",o);const s=o.response?.data?.message||"Error saving office";window.showNotification?.(s)}finally{this.saving=!1}},closeModal(){this.showAddModal=!1,this.showEditModal=!1,this.editingOffice=null,this.form={name:"",address:""}}},mounted(){this.fetchOffices()}},v={class:"min-h-screen bg-gray-50"},b={class:"bg-white shadow"},k={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},O={class:"flex justify-between h-16"},M={class:"flex"},_={class:"hidden sm:ml-6 sm:flex sm:space-x-8"},E={class:"absolute left-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50"},N={class:"bg-white shadow"},A={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},C={class:"flex items-center justify-between"},S={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},D={class:"card"},V={class:"card-content p-0"},j={class:"overflow-x-auto"},B={class:"min-w-full divide-y divide-gray-200"},U={class:"bg-white divide-y divide-gray-200"},q={class:"px-6 py-4 whitespace-nowrap"},z={class:"text-sm font-medium text-gray-900"},F={class:"px-6 py-4"},H={class:"text-sm text-gray-900"},L={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},P={class:"flex items-center justify-end space-x-2"},T=["onClick"],G=["onClick"],R={key:0,class:"text-center py-12"},W={key:1,class:"text-center py-12"},I={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},J={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"},K={class:"mt-3"},Q={class:"text-lg font-medium text-gray-900 mb-4"},X={class:"form-group mb-4"},Y={class:"form-group mb-4"},Z={class:"flex justify-end space-x-3"},$=["disabled"],ee={key:0},se={key:1};function te(o,s,ie,oe,t,n){return l(),r("div",v,[e("nav",b,[e("div",k,[e("div",O,[e("div",M,[s[11]||(s[11]=e("div",{class:"flex-shrink-0 flex items-center"},[e("router-link",{to:"/",class:"text-xl font-bold text-gray-900"},"PH HRMS")],-1)),e("div",_,[s[10]||(s[10]=e("router-link",{to:"/employees",class:"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm"},[e("i",{class:"fas fa-users mr-2"}),a("Employees ")],-1)),e("div",{class:"relative",onMouseenter:s[0]||(s[0]=i=>t.showManagement=!0),onMouseleave:s[1]||(s[1]=i=>t.showManagement=!1)},[s[9]||(s[9]=e("button",{class:"border-blue-500 text-blue-600 whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center"},[e("i",{class:"fas fa-cog mr-2"}),a("Management "),e("i",{class:"fas fa-chevron-down ml-1 text-xs"})],-1)),c(e("div",E,[...s[8]||(s[8]=[e("div",{class:"py-1"},[e("router-link",{to:"/management/departments",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},[e("i",{class:"fas fa-building mr-2"}),a("Departments ")]),e("router-link",{to:"/management/offices",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},[e("i",{class:"fas fa-map-marker-alt mr-2"}),a("Offices ")]),e("router-link",{to:"/management/positions",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},[e("i",{class:"fas fa-briefcase mr-2"}),a("Positions ")])],-1)])],512),[[g,t.showManagement]])],32)])]),s[12]||(s[12]=e("div",{class:"flex items-center"},[e("span",{class:"text-sm text-gray-700"},"Welcome, Admin")],-1))])])]),e("div",N,[e("div",A,[e("div",C,[s[14]||(s[14]=e("div",null,[e("nav",{class:"flex","aria-label":"Breadcrumb"},[e("ol",{class:"inline-flex items-center space-x-1 md:space-x-3"},[e("li",{class:"inline-flex items-center"},[e("router-link",{to:"/",class:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600"},[e("i",{class:"fas fa-home mr-2"}),a("Dashboard ")])]),e("li",null,[e("div",{class:"flex items-center"},[e("i",{class:"fas fa-chevron-right text-gray-400 mx-2"}),e("span",{class:"text-sm font-medium text-gray-500"},"Management")])]),e("li",{"aria-current":"page"},[e("div",{class:"flex items-center"},[e("i",{class:"fas fa-chevron-right text-gray-400 mx-2"}),e("span",{class:"text-sm font-medium text-gray-500"},"Offices")])])])]),e("h1",{class:"mt-2 text-2xl font-bold text-gray-900"},"Office Management")],-1)),e("div",null,[e("button",{onClick:s[2]||(s[2]=i=>t.showAddModal=!0),class:"btn btn-primary"},[...s[13]||(s[13]=[e("i",{class:"fas fa-plus mr-2"},null,-1),a("Add Office ",-1)])])])])])]),e("div",S,[e("div",D,[s[24]||(s[24]=e("div",{class:"card-header"},[e("h3",{class:"card-title"},[e("i",{class:"fas fa-map-marker-alt mr-3 text-green-600"}),a("Offices ")]),e("p",{class:"card-description"},"Manage company offices and branches")],-1)),e("div",V,[e("div",j,[e("table",B,[s[18]||(s[18]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Address "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",U,[(l(!0),r(u,null,h(t.offices,i=>(l(),r("tr",{key:i.id,class:"hover:bg-gray-50"},[e("td",q,[e("div",z,d(i.name),1)]),e("td",F,[e("div",H,d(i.address||"No address specified"),1)]),s[17]||(s[17]=e("td",{class:"px-6 py-4 whitespace-nowrap"},[e("span",{class:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800"}," Active ")],-1)),e("td",L,[e("div",P,[e("button",{onClick:x=>n.editOffice(i),class:"text-green-600 hover:text-green-900",title:"Edit Office"},[...s[15]||(s[15]=[e("i",{class:"fas fa-edit"},null,-1)])],8,T),e("button",{onClick:x=>n.deleteOffice(i),class:"text-red-600 hover:text-red-900",title:"Delete Office"},[...s[16]||(s[16]=[e("i",{class:"fas fa-trash"},null,-1)])],8,G)])])]))),128))])]),t.offices.length===0&&!t.loading?(l(),r("div",R,[s[20]||(s[20]=e("i",{class:"fas fa-map-marker-alt text-gray-400 text-4xl mb-4"},null,-1)),s[21]||(s[21]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No offices found",-1)),s[22]||(s[22]=e("p",{class:"text-gray-500 mb-6"},"Get started by creating your first office.",-1)),e("button",{onClick:s[3]||(s[3]=i=>t.showAddModal=!0),class:"btn btn-primary"},[...s[19]||(s[19]=[e("i",{class:"fas fa-plus mr-2"},null,-1),a("Add Office ",-1)])])])):f("",!0),t.loading?(l(),r("div",W,[...s[23]||(s[23]=[e("i",{class:"fas fa-spinner fa-spin text-gray-400 text-2xl mb-4"},null,-1),e("p",{class:"text-gray-500"},"Loading offices...",-1)])])):f("",!0)])])])]),t.showAddModal||t.showEditModal?(l(),r("div",I,[e("div",J,[e("div",K,[e("h3",Q,d(t.showEditModal?"Edit Office":"Add New Office"),1),e("form",{onSubmit:s[7]||(s[7]=y((...i)=>n.saveOffice&&n.saveOffice(...i),["prevent"]))},[e("div",X,[s[25]||(s[25]=e("label",{class:"form-label"},"Name *",-1)),c(e("input",{"onUpdate:modelValue":s[4]||(s[4]=i=>t.form.name=i),type:"text",class:"form-input",required:""},null,512),[[m,t.form.name]])]),e("div",Y,[s[26]||(s[26]=e("label",{class:"form-label"},"Address",-1)),c(e("textarea",{"onUpdate:modelValue":s[5]||(s[5]=i=>t.form.address=i),rows:"3",class:"form-input",placeholder:"Office address"},null,512),[[m,t.form.address]])]),e("div",Z,[e("button",{onClick:s[6]||(s[6]=(...i)=>n.closeModal&&n.closeModal(...i)),type:"button",class:"btn btn-secondary"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary",disabled:!t.form.name||t.saving},[t.saving?(l(),r("span",ee,"Saving...")):(l(),r("span",se,d(t.showEditModal?"Update":"Save"),1))],8,$)])],32)])])])):f("",!0)])}const re=p(w,[["render",te]]);export{re as default};
